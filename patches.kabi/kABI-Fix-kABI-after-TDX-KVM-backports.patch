From: Juergen Gross <jgross@suse.com>
Date: Tue, 25 Mar 2024 13:39:15 +0200
Subject: kABI: Fix kABI after TDX KVM backports
Patch-mainline: Never, kABI fix
References: jsc#PED-6143

Signed-off-by: Juergen Gross <jgross@suse.com>
---
--- a/arch/x86/include/asm/kvm_host.h
+++ b/arch/x86/include/asm/kvm_host.h
@@ -1053,13 +1053,15 @@
 
 	/* Protected Guests */
 	bool guest_state_protected;
-	bool guest_tsc_protected;
 
 	/*
 	 * Set when PDPTS were loaded directly by the userspace without
 	 * reading the guest memory
 	 */
 	bool pdptrs_from_userspace;
+#ifndef __GENKSYMS__
+	bool guest_tsc_protected;
+#endif
 
 #if IS_ENABLED(CONFIG_HYPERV)
 	hpa_t hv_root_tdp;
